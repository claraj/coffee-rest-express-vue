webpackJsonp([1],{"1/oy":function(e,t){},"9M+g":function(e,t){},DRow:function(e,t){throw new Error("Module build failed: SyntaxError: Unexpected token, expected ; (30:3)\n\n[0m [90m 28 | [39m      coffeeShops[33m:[39m [33mArray[39m\n [90m 29 | [39m    }\n[31m[1m>[22m[39m[90m 30 | [39m  }[33m,[39m\n [90m    | [39m   [31m[1m^[22m[39m\n [90m 31 | [39m  methods[33m:[39m {\n [90m 32 | [39m    onStarsChanged (id[33m,[39m stars) {\n [90m 33 | [39m      console[33m.[39mlog([32m`todo update ${stars} for ${id}`[39m)[0m\n")},GfHa:function(e,t){},Id91:function(e,t){},JSrK:function(e,t,n){"use strict";var o=n("DRow"),a=(n.n(o),n("jsPB"));var r=function(e){n("s6VA")},s=n("VU/8")(o.default,a.a,!1,r,"data-v-097774eb",null);t.default=s.exports},Jmt5:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},a,!1,function(e){n("Uh3+")},null,null).exports,s=n("/ocq"),i=n("mtWM"),c=n.n(i);var f=new function e(){var t=this;this.base="/api/v1",this.$crud=c.a.create({baseURL:this.base,headers:{"Content-Type":"application/json"}}),e.prototype.fetchAll=function(){return t.$crud.get("/coffeeshop/",{params:{sort:"name"}}).then(function(e){return e.data})},e.prototype.updateStars=function(e,n){return t.$crud.patch("/coffeeshop/"+e,{stars:n})},e.prototype.addNew=function(e){return t.$crud.post("/coffeeshop",e).then(function(e){return e.data})}},d=n("JSrK"),u={name:"Stars",props:{stars:Number,_id:String},data:function(){return{starsUpdate:0}},created:function(){this.starsUpdate=this.stars},render:function(e){var t=this,n=1;return e("div",Array.apply(null,{length:5}).map(function(){var o=e("span",{attrs:{class:"star-span",id:"star-"+n++},on:{click:t.clickHandler,mouseover:t.hoverHandler}},"â˜…");return n<t.starsUpdate+2&&(o.data.attrs.class="star-span star-on"),o}))},methods:{clickHandler:function(e){var t=Number(e.srcElement.id.slice(5));this.starsUpdate=t,this.onStarsChanged(this._id,t)},hoverHandler:function(e){console.log("hovering!")},onStarsChanged:function(e,t){this.$emit("onStarsChanged",e,t)}}};var h=n("VU/8")(u,null,!1,function(e){n("Zv91")},"data-v-166ef3d3",null).exports,p={name:"NewCoffeeShop",components:{Stars:h},data:function(){return{name:"",stars:0,errors:""}},methods:{onStarsChanged:function(e,t){console.log("stars changed to "+t),this.stars=t},addNewCoffeeShop:function(){var e=this;this.name?f.addNew({name:this.name,stars:this.stars}).then(function(){e.$emit("onAddNew"),e.name="",e.errors=""}):this.errors="You must enter a name."}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Add new Coffee Shop")]),e._v(" "),n("b-form",[n("b-form-input",{attrs:{label:"Name",placeholder:"Name",id:"new-name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("span",[e._v("How many stars?")]),n("Stars",{on:{onStarsChanged:e.onStarsChanged}}),e._v(" "),e.errors?n("p",[e._v(e._s(e.errors))]):e._e(),e._v(" "),n("b-button",{on:{click:e.addNewCoffeeShop}},[e._v("Add")])],1)],1)},staticRenderFns:[]},l={name:"CoffeeShops",components:{AddCoffeeShop:n("VU/8")(p,m,!1,null,null,null).exports,CoffeeShopList:d.default,Stars:h},data:function(){return{msg:"Coffee",coffeeShops:[]}},mounted:function(){this.fetchShops()},methods:{fetchShops:function(){var e=this;console.log(f.base),f.fetchAll().then(function(t){e.coffeeShops=t,e.coffeeShops.forEach(function(e){e.stars||(e.stars=0)})})},onStarsChanged:function(e,t){var n=this;console.log("todo update "+t+" for "+e),f.updateStars(e,t).then(function(e){n.fetchShops()})},onAddNew:function(){this.fetchShops()}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("Coffee Shops")]),e._v(" "),o("b-container",{attrs:{fluid:""}},[o("b-row",[o("b-col",[o("AddCoffeeShop",{on:{onAddNew:e.onAddNew}}),e._v(" "),o("img",{attrs:{src:n("nUHV")}})],1),e._v(" "),o("b-col",[o("CoffeeShopList",e._b({on:{onStarsChanged:e.onStarsChanged}},"CoffeeShopList",e.coffeeShops,!1))],1)],1)],1)],1)},staticRenderFns:[]};var S=n("VU/8")(l,v,!1,function(e){n("zq/L")},"data-v-5e1a7e26",null).exports;o.a.use(s.a);var _=new s.a({routes:[{path:"/",name:"CoffeeShops",component:S}]}),g=n("e6fC");n("Jmt5"),n("9M+g");o.a.use(g.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:_,components:{App:r},template:"<App/>"})},"Uh3+":function(e,t){},Zv91:function(e,t){},jsPB:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Coffee Shop Ratings")]),e._v(" "),n("p",[e._v("Change star rating by clicking on the stars for a coffee shop")]),e._v(" "),n("ul",e._l(e.coffeeShops,function(t){return n("li",{key:t._id},[e._v("\n\n            "+e._s(t.name)+", "+e._s(t.stars)+" "),1==t.stars?n("span",[e._v("star")]):n("span",[e._v("stars")]),e._v(" "),n("Stars",{attrs:{stars:t.stars,_id:t._id},on:{onStarsChanged:e.onStarsChanged}})],1)}))])},staticRenderFns:[]};t.a=o},nUHV:function(e,t,n){e.exports=n.p+"static/img/coffee.762a5dd.jpg"},s6VA:function(e,t){},zj2Q:function(e,t){},"zq/L":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.77f241810c57cff06a8c.js.map